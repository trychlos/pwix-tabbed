/*
 * pwix:tabbed/src/client/stylesheets/Tabbed.less
 */

.Tabbed {
    height: 100%;

    // horizontal (top or bottom) position
    // navs and panes
    // have panes 100% height of the visual parent
    .tabbed-consistent-height {
        height: 100%;
        display: flex;
        flex-direction: column;

        .tabbed-panes-encloser {
            height: 100%;
            display: flex;
            flex-direction: column;

            .tabbed-panes {
                height: 100%;
                display: flex;
                flex-direction: column;

                .tab-content {
                    height: 100%;
                    display: flex;

                    .tab-pane {
                        margin-top: 0.5em;
                    }
                }
            }
        }
    }
    // have a consistent height between the tabs
    // https://stackoverflow.com/questions/54810478/bootstrap-4-how-to-equal-height-two-tab-panes
    // and https://observablehq.com/@rkaravia/css-trick-tabs-with-consistent-height
    .tabbed-consistent-height > .tabbed-panes-encloser > .tabbed-panes > .tab-content > .tab-pane {
        display: block; // undo "display: none;"
        visibility: hidden;
        margin-right: -100%;
        width: 100%;
        z-index: -1;
    }
    .tabbed-consistent-height > .tabbed-panes-encloser > .tabbed-panes > .tab-content > .active {
        visibility: visible;
        z-index: 0;
    }
    // when we want have tabs on the bottom of the panel
    .tabbed-navs-encloser > .tabbed-navs > .nav-bottom {
        border-bottom: 0;
        border-top: var( --bs-nav-tabs-border-width ) solid lightgray;
    }
    .tabbed-navs-encloser > .tabbed-navs > .nav-bottom > li > .nav-link {
        --bs-nav-tabs-link-active-border-color: #ffffff lightgray lightgray lightgray;
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        border-bottom-left-radius: 0.5em;
        border-bottom-right-radius: 0.5em;
    }
    // have some space between tabs and panes
    .tabbed-navs {
        .nav-top {
            margin-bottom: 0.5em;
        }
        .nav-bottom {

        }
    }

    // vertical (left or right) position
    // navs and panes
    .tabbed-consistent-width {
        height: 100%;
        display: flex;
        flex-direction: row;
    }
    .tabbed-consistent-width > .tabbed-navs-encloser > .tabbed-navs > ul {
        display: flex;
        flex-direction: column;
        border: 0;
        .nav-item {
            white-space: nowrap;
        }
    }
    .tabbed-consistent-width > .tabbed-navs-encloser > .tabbed-navs > ul > li > button {
        width: 100%;
    }
    // https://stackoverflow.com/questions/36230944/prevent-flex-items-from-overflowing-a-container
    .tabbed-consistent-width > .tabbed-panes-encloser {
        min-width: 0;
        flex-grow: 1;
        display: flex;
        flex-direction: column;
    }
    .tabbed-consistent-width > .tabbed-panes-encloser > .tabbed-panes {
        flex-grow: 1;
    }
    .tabbed-consistent-width > .tabbed-panes-encloser > .tabbed-panes > .tab-content {
        height: 100%;
    }
    .tabbed-consistent-width > .tabbed-panes-encloser > .tabbed-panes > .tab-content > .tab-pane {
        height: 100%;
    }
    // when we want have tabs on the left of the panel
    .tabbed-navs-encloser.nav-left {
        margin-right: 0.75em;
        border-right: 1px solid lightgray;
    }
    .tabbed-navs-encloser > .tabbed-navs > .nav-left > li > .nav-link {
        border-right: 0;
        --bs-nav-tabs-link-active-border-color:  lightgray #ffffff lightgray lightgray;
        border-top-left-radius: 0.375em;
        border-top-right-radius: 0;
        border-bottom-left-radius: 0.375em;
        border-bottom-right-radius: 0em;
    }
}
